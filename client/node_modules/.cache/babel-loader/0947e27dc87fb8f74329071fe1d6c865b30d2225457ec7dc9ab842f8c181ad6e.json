{"ast":null,"code":"import _regeneratorRuntime from\"/Users/freddydordoni/bootcamp/Project-3-Portfolio-Tracker/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/freddydordoni/bootcamp/Project-3-Portfolio-Tracker/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/freddydordoni/bootcamp/Project-3-Portfolio-Tracker/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//! SIGNUP COMPONENT\n// //? This component is a form that allows the user to sign up for an account.\nimport React from\"react\";import{useState}from\"react\";import{Box,TextField,Button}from\"@mui/material\";import{CryptoState}from\"../../Pages/CryptoContext\";import{createUserWithEmailAndPassword}from\"firebase/auth\";import{auth}from\"../../firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(_ref){var handleClose=_ref.handleClose;// State for the form\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),passwordConfirmation=_useState6[0],setPasswordConfirmation=_useState6[1];var _CryptoState=CryptoState(),alert=_CryptoState.alert,setAlert=_CryptoState.setAlert;// import the setAlert function from the CryptoContext\n// handle submit function : check for password match (alert via MUI snackbar)\nvar handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(password!==passwordConfirmation)){_context.next=3;break;}setAlert({open:true,message:\"Passwords don't match\",type:\"error\"});return _context.abrupt(\"return\");case 3:_context.prev=3;_context.next=6;return createUserWithEmailAndPassword(auth,email,password);case 6:res=_context.sent;setAlert({open:true,message:\"Sign Up successful! Welcome \".concat(res.user.email),type:\"success\"});// after the login, close the modal\nhandleClose();_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](3);setAlert({open:true,message:_context.t0.message,type:\"error\"});case 14:case\"end\":return _context.stop();}},_callee,null,[[3,11]]);}));return function handleSubmit(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",flexDirection:\"column\",gap:\"20px\"},children:[/*#__PURE__*/_jsx(TextField,{id:\"outlined-email\",label:\"Enter email\",variant:\"outlined\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},fullWidth:true}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-password\",label:\"Enter Password\",variant:\"outlined\",value:password,type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},fullWidth:true}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-confirm-password\",label:\"Confirm Password\",variant:\"outlined\",value:passwordConfirmation,type:\"password\",onChange:function onChange(e){return setPasswordConfirmation(e.target.value);},fullWidth:true}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",style:{backgroundColor:\"wheat\"},size:\"large\",onClick:handleSubmit,children:\"Sign Up\"})]});};export default Signup;","map":{"version":3,"names":["React","useState","Box","TextField","Button","CryptoState","createUserWithEmailAndPassword","auth","jsx","_jsx","jsxs","_jsxs","Signup","_ref","handleClose","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","passwordConfirmation","setPasswordConfirmation","_CryptoState","alert","setAlert","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","open","message","type","abrupt","sent","concat","user","t0","stop","apply","arguments","sx","display","flexDirection","gap","children","id","label","variant","value","onChange","e","target","fullWidth","style","backgroundColor","size","onClick"],"sources":["/Users/freddydordoni/bootcamp/Project-3-Portfolio-Tracker/client/src/components/Authentication/Signup.js"],"sourcesContent":["//! SIGNUP COMPONENT\n// //? This component is a form that allows the user to sign up for an account.\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { Box, TextField, Button } from \"@mui/material\";\nimport { CryptoState } from \"../../Pages/CryptoContext\";\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../../firebase\";\n\nconst Signup = ({ handleClose }) => {\n  // State for the form\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirmation, setPasswordConfirmation] = useState(\"\");\n\n  const { alert, setAlert } = CryptoState(); // import the setAlert function from the CryptoContext\n\n  // handle submit function : check for password match (alert via MUI snackbar)\n  const handleSubmit = async () => {\n    if (password !== passwordConfirmation) {\n      setAlert({\n        open: true,\n        message: \"Passwords don't match\",\n        type: \"error\",\n      });\n      return;\n    }\n    // Try catch crate new user via the firebase auth\n    try {\n      const res = await createUserWithEmailAndPassword(auth, email, password);\n\n      setAlert({\n        open: true,\n        message: `Sign Up successful! Welcome ${res.user.email}`,\n        type: \"success\",\n      });\n\n      // after the login, close the modal\n      handleClose();\n    } catch (error) {\n      setAlert({\n        open: true,\n        message: error.message,\n        type: \"error\",\n      });\n    }\n  };\n\n  return (\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: \"20px\" }}>\n      <TextField\n        id=\"outlined-email\"\n        label=\"Enter email\"\n        variant=\"outlined\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        fullWidth\n      />\n      <TextField\n        id=\"outlined-password\"\n        label=\"Enter Password\"\n        variant=\"outlined\"\n        value={password}\n        type=\"password\"\n        onChange={(e) => setPassword(e.target.value)}\n        fullWidth\n      />\n      <TextField\n        id=\"outlined-confirm-password\"\n        label=\"Confirm Password\"\n        variant=\"outlined\"\n        value={passwordConfirmation}\n        type=\"password\"\n        onChange={(e) => setPasswordConfirmation(e.target.value)}\n        fullWidth\n      />\n      <Button\n        variant=\"contained\"\n        style={{ backgroundColor: \"wheat\" }}\n        size=\"large\"\n        onClick={handleSubmit}\n      >\n        Sign Up\n      </Button>\n    </Box>\n  );\n};\n\nexport default Signup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}